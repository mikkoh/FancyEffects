<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../lib/dat.gui.min.js"></script>
	<script type="text/javascript" src="../lib/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="../lib/mootools-core-1.4.5.js"></script>
	<script type="text/javascript" src="signals.js"></script>
	<script type="text/javascript" src="easingEquations.js"></script>
	<script type="text/javascript" src="itemProperties.js"></script>
	<script type="text/javascript" src="parsers.js"></script>
	<script type="text/javascript" src="effectsBase.js"></script>
	<script type="text/javascript" src="effectEffects.js"></script>
	<script type="text/javascript" src="effectsJS.js"></script>

	<script type="text/javascript">
	$(function() {
		var effWidth = new EffectWidth();
		var effHeight = new EffectHeight();
		var effLeft = new EffectLeft();
		var effTop = new EffectTop();
		var effOpacity = new EffectOpacity();
		var effBorderWidth = new EffectBorderWidth();
		var effColor = new EffectColor();
		var effBGColor = new EffectBackgroundColor();
		var effBoxShadow = new EffectBoxShadow();
		var effFilter = new EffectFilter();

		var eff = new Effect($('#itemToEffect'));
		eff.add(effWidth);
		eff.add(effHeight);
		eff.add(effTop);
		eff.add(effLeft);
		eff.add(effOpacity);
		eff.add(effBorderWidth);
		eff.add(effColor);
		eff.add(effBGColor);
		eff.add(effBoxShadow);
		eff.add( effFilter );

		//Add bounce to left
		effLeft.add(new EffectPercentageElasticEaseOut());

		var gui = new dat.GUI();
		var folderMain = gui.addFolder('Main Controller');
		folderMain.add(eff, 'percentage', 0, 1);
		folderMain.open();

		var folderBasicProps = gui.addFolder('Basic');
		
		var folderWidth = folderBasicProps.addFolder('width effect');
		folderWidth.add(effWidth.start, 'value').min(0).max(200);
		folderWidth.add(effWidth.end, 'value').min(0).max(200);

		var folderHeight = folderBasicProps.addFolder('height effect');
		folderHeight.add(effHeight.start, 'value').min(0).max(200);
		folderHeight.add(effHeight.end, 'value').min(0).max(200);

		var folderTop = folderBasicProps.addFolder('top effect');
		folderTop.add(effTop.start, 'value').min(0).max(980);
		folderTop.add(effTop.end, 'value').min(0).max(980);

		var folderLeft = folderBasicProps.addFolder('left effect');
		folderLeft.add(effLeft.start, 'value').min(0).max(980);
		folderLeft.add(effLeft.end, 'value').min(0).max(980);

		var folderOpacity = folderBasicProps.addFolder('opacity effect');
		folderOpacity.add(effOpacity.start, 'value').min(0).max(1);
		folderOpacity.add(effOpacity.end, 'value').min(0).max(1);

		var folderBorderWidth = folderBasicProps.addFolder('border width');
		folderBorderWidth.add(effBorderWidth.start, 'value').min(0).max(100);
		folderBorderWidth.add(effBorderWidth.end, 'value').min(0).max(100);

		
		var folderColor = folderBasicProps.addFolder('color');
		folderColor.add(effColor.start, 'r').min(0).max(255);
		folderColor.add(effColor.end, 'r').min(0).max(255);
		folderColor.add(effColor.start, 'g').min(0).max(255);
		folderColor.add(effColor.end, 'g').min(0).max(255);
		folderColor.add(effColor.start, 'b').min(0).max(255);
		folderColor.add(effColor.end, 'b').min(0).max(255);
		folderColor.add(effColor.start, 'a').min(0).max(1);
		folderColor.add(effColor.end, 'a').min(0).max(1);

		var folderBackgroundColor = folderBasicProps.addFolder('background color');
		folderBackgroundColor.add(effBGColor.start, 'r').min(0).max(255);
		folderBackgroundColor.add(effBGColor.end, 'r').min(0).max(255);
		folderBackgroundColor.add(effBGColor.start, 'g').min(0).max(255);
		folderBackgroundColor.add(effBGColor.end, 'g').min(0).max(255);
		folderBackgroundColor.add(effBGColor.start, 'b').min(0).max(255);
		folderBackgroundColor.add(effBGColor.end, 'b').min(0).max(255);
		folderBackgroundColor.add(effBGColor.start, 'a').min(0).max(1);
		folderBackgroundColor.add(effBGColor.end, 'a').min(0).max(1);
		
		var folderBoxShadow = gui.addFolder('box-shadow');
		folderBoxShadow.add(effBoxShadow.start, 'offX').min(-255).max(255);
		folderBoxShadow.add(effBoxShadow.start, 'offY').min(-255).max(255);
		folderBoxShadow.add(effBoxShadow.start, 'blur').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.end, 'offX').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.end, 'offY').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.end, 'blur').min(0).max(255);

		folderBoxShadow.add(effBoxShadow.start, 'r').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.end, 'r').min(0).max(255);

		folderBoxShadow.add(effBoxShadow.start, 'g').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.end, 'g').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.start, 'b').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.end, 'b').min(0).max(255);
		folderBoxShadow.add(effBoxShadow.start, 'a').min(0).max(1);
		folderBoxShadow.add(effBoxShadow.end, 'a').min(0).max(1);
		
		var folderFilter = gui.addFolder('filter');
		folderFilter.add(effFilter.start, 'blur').min(0).max(20);
		folderFilter.add(effFilter.end, 'blur').min(0).max(20);
		folderFilter.add(effFilter.start, 'brightness').min(0).max(1);
		folderFilter.add(effFilter.end, 'brightness').min(0).max(1);
		folderFilter.add(effFilter.start, 'contrast').min(0).max(1);
		folderFilter.add(effFilter.end, 'contrast').min(0).max(1);
		folderFilter.add(effFilter.start, 'grayScale').min(0).max(1);
		folderFilter.add(effFilter.end, 'grayScale').min(0).max(1);
		folderFilter.add(effFilter.start, 'hueRotation').min(0).max(360);
		folderFilter.add(effFilter.end, 'hueRotation').min(0).max(360);
		folderFilter.add(effFilter.start, 'opacity').min(0).max(1);
		folderFilter.add(effFilter.end, 'opacity').min(0).max(1);
		folderFilter.add(effFilter.start, 'saturate').min(0).max(1);
		folderFilter.add(effFilter.end, 'saturate').min(0).max(1);
		folderFilter.add(effFilter.start, 'invert').min(0).max(1);
		folderFilter.add(effFilter.end, 'invert').min(0).max(1);
		folderFilter.add(effFilter.start, 'sepia').min(0).max(1);
		folderFilter.add(effFilter.end, 'sepia').min(0).max(1);

		var folderFilterDropShadow=folderFilter.addFolder('drop-shadow');
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'r').min(0).max(255);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'r').min(0).max(255);
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'g').min(0).max(255);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'g').min(0).max(255);
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'b').min(0).max(255);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'b').min(0).max(255);
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'a').min(0).max(1);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'a').min(0).max(1);
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'blur').min(0).max(255);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'blur').min(0).max(255);
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'offX').min(-255).max(255);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'offX').min(-255).max(255);
		folderFilterDropShadow.add(effFilter.start.dropShadow, 'offY').min(-255).max(255);
		folderFilterDropShadow.add(effFilter.end.dropShadow, 'offY').min(-255).max(255);

		$('#btnDestroy').click(function() {
			eff.destroy();
		});

		var leftStart = eff.getStart('left');
		var topStart = eff.getStart('top');

		$(window).resize(function() {
			leftStart.value = $(window).width() * 0.5;
			topStart.value = $(window).height() * 0.5;
		});
	});	
	</script>

	<style type="text/css">
		body
		{
			margin: 0;
			border: 0;
			background: #000;
		}

		#itemToEffect
		{
			position: relative;

			width: 100px;
			height: 100px;
			background-color: #CC0000;
			/*
			left: 100px;
			top: 100px;

			border: 5px solid #FFFFFF;

			width: 100px;
			height: 100px;

			background-color: #333;

			box-shadow: rgba(255, 255, 255, 0.5) -10px -10px 20px;
			-webkit-filter: drop-shadow(35px 35px 20px #333);
			*/
			
		}
	</style>
</head>
<body>
	<button id="btnDestroy">Destroy Effects</button>
	<div id="itemToEffect">TEST</div>
	<!--  <img id="itemToEffect" src="http://www.animatch.ca/images/sized/images/adoptees/Rocco3-600x500.jpg" /> -->
</body>
</html>